{"diagram":{"image":{"height":200,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","width":200,"y":0,"x":0},"elements":{"id":"root","structure":"mind_free","leftChildren":[{"id":"b571f852e7db","title":"优化","lineStyle":{"randomLineColor":"#F88A35"},"children":[{"id":"4bc32a973c7d","title":"压缩与格式","parent":"b571f852e7db","children":[{"id":"d97eede23be2","title":"orcfile/parquet + snappy","parent":"4bc32a973c7d","children":[]}]},{"id":"5156555b8a6e","title":"设计优化","parent":"b571f852e7db","children":[{"id":"a2bc5625140e","title":"分区分桶","parent":"5156555b8a6e","children":[]}]},{"id":"ffdaeab0929c","title":"参数优化","parent":"b571f852e7db","children":[{"id":"85e6d066809b","title":"job","parent":"ffdaeab0929c","children":[{"id":"7c5c470cb67b","title":"双job","parent":"85e6d066809b","children":[]},{"id":"d74310f9706f","title":"job并行","parent":"85e6d066809b","children":[]}]},{"id":"8f22bc55b7a1","title":"本地抓取","parent":"ffdaeab0929c","children":[]},{"id":"56f6f7a80fc6","title":"jvm重用","parent":"ffdaeab0929c","children":[]}]},{"id":"6e8730cc012d","title":"sql优化","parent":"b571f852e7db","children":[{"id":"6a18b66a2807","title":"where谓词下推","parent":"6e8730cc012d","children":[]},{"id":"9cb607f5d91e","title":"group by去重","parent":"6e8730cc012d","children":[]},{"id":"1d3efd9e815d","title":"in替换join","parent":"6e8730cc012d","children":[]},{"id":"01a69946a807","title":"join优化","parent":"6e8730cc012d","children":[{"id":"105399c6e059","title":"mapjoin","parent":"01a69946a807","children":[]},{"id":"70c794036b21","title":"smbjoin","parent":"01a69946a807","children":[]}]}]},{"id":"a3649c7542c1","title":"数据倾斜（除上面优化措施之外的）","parent":"b571f852e7db","children":[{"id":"b10a25c2546f","title":"合并小文件","parent":"a3649c7542c1","children":[]},{"id":"c52eb78e2d92","title":"sql","parent":"a3649c7542c1","children":[{"id":"3815fba6876a","title":"join字段类型转换成字符串","parent":"c52eb78e2d92","children":[]}]},{"id":"058fe886a969","title":"热点key","parent":"a3649c7542c1","children":[{"id":"467ef832ae18","title":"分别处理","parent":"058fe886a969","children":[]}]},{"id":"6fb675bd4413","title":"空值","parent":"a3649c7542c1","children":[{"id":"86c095fd206e","title":"加随机数","parent":"6fb675bd4413","children":[]},{"id":"e0d4ff066bc3","title":"过滤","parent":"6fb675bd4413","children":[]}]}]}],"parent":"root"}],"title":"hive","watermark":"","root":true,"theme":"delicate_caihong","children":[{"id":"97a7f6ae57d3","title":"hql","lineStyle":{"randomLineColor":"#7549C5"},"children":[{"id":"38d01e29f0fd","title":"执行顺序","children":[{"id":"dbee9db7eaa5","title":"from-where-group by-having -select-order by -limit","parent":"38d01e29f0fd","children":[]}],"parent":"97a7f6ae57d3"},{"id":"7dc22ae6727e","title":"分组排序","children":[{"id":"16c17dde1b05","title":"order by","children":[{"id":"fbb6a1ce45f2","title":"全局排序，单个reducer","children":[],"parent":"16c17dde1b05"}],"parent":"7dc22ae6727e"},{"id":"60e37d971c9e","title":"sort by","children":[{"id":"93551d2dd281","title":"map排序","parent":"60e37d971c9e","children":[]}],"parent":"7dc22ae6727e"},{"id":"cd6806aa9ce5","title":"distribute by","children":[{"id":"cdfdbf4b68ff","title":"分区字段","parent":"cd6806aa9ce5","children":[]}],"parent":"7dc22ae6727e"},{"id":"967ffb149236","title":"cluster by","children":[{"id":"a5f037561f72","title":"分区字段与map排序字段相同","parent":"967ffb149236","children":[]}],"parent":"7dc22ae6727e"}],"parent":"97a7f6ae57d3"},{"id":"a95f1559e4b4","title":"join","children":[{"id":"d10fab46b886","title":"left semi join","children":[{"id":"e5d5877113b3","title":"只显示join后符合条件（与右表匹配）左表字段，去重（其他join都不去重），是in的高效版","children":[],"parent":"d10fab46b886"}],"parent":"a95f1559e4b4"},{"id":"27ae122c066e","title":"left join","children":[{"id":"fe0f0d142290","title":"显示左表所有字段，右表不匹配的字段用NULL表示","children":[],"parent":"27ae122c066e"}],"parent":"a95f1559e4b4"}],"parent":"97a7f6ae57d3"}],"parent":"root"},{"id":"c4bf49571e16","title":"技术","lineStyle":{"randomLineColor":"#F88A35"},"parent":"root","children":[{"id":"8ae2527b2ca9","title":"分区分桶","parent":"c4bf49571e16","children":[{"id":"c103cd7c6a94","title":"分区","children":[{"id":"5ca9c909868e","title":"减少扫描数据量","parent":"c103cd7c6a94","children":[]}],"parent":"8ae2527b2ca9"},{"id":"2a492f8178e2","title":"分桶","parent":"8ae2527b2ca9","children":[{"id":"3ed8ca23123a","title":"提高join效率","children":[],"parent":"2a492f8178e2"},{"id":"2a57705cf4d4","title":"提高采样效率","children":[],"parent":"2a492f8178e2"}]}]}]},{"id":"708b3c255195","title":"其他","lineStyle":{"randomLineColor":"#0F80C4"},"children":[{"id":"bdfaf1cc5de0","title":"字段里边有\\t 的情况，怎么处理？","children":[{"id":"8190a96d6a34","title":"自定义udf，先把字段中的\\t 转换为其他字符，再处理","parent":"bdfaf1cc5de0","children":[]}],"parent":"708b3c255195"},{"id":"7b670f837f18","title":"怎么从一个字符串中把数字拆出来？","parent":"708b3c255195","children":[]},{"id":"9417965e1a3f","title":"hive和传统数据库之间的区别？","children":[],"parent":"708b3c255195"},{"id":"c2766d969a69","title":"hive与spark执行计划区别？","parent":"708b3c255195","children":[]},{"id":"37bbb456d895","title":"如何取样？","parent":"708b3c255195","children":[]},{"id":"95278407a394","title":"hivesql的复杂数据类型？","parent":"708b3c255195","children":[]},{"id":"c0a64ec6b1a5","title":"空key如何给随机值？","parent":"708b3c255195","children":[]},{"id":"061be92ef8b9","title":"有多个热点值的数据group by的优化逻辑？","parent":"708b3c255195","children":[]}],"parent":"root"}],"note":""}},"meta":{"id":"60dc27560e3e745b089d97b4","member":"5ff295855653bb21c1b7d3b9","exportTime":"2021-07-03 09:51:08","diagramInfo":{"category":"mind_free","title":"hive","created":"2021-06-30 16:12:06","creator":"5ff295855653bb21c1b7d3b9","modified":"2021-07-02 10:30:37"},"type":"ProcessOn Schema File","version":"1.0"}}